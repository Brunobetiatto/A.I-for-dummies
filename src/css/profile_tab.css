/* ============ Profile Tab — Win95 “card prateado” sem mudar fundo global ============ */

/* Container principal com altura controlada */
.profile-tab {
  background: #008080;
  max-height: 90vh;    /* limitar a altura total do bloco de perfil */
  height: auto;
  overflow: hidden;
  padding-bottom: 8px; /* pequena folga para o botão */
}

.profile-tab .profile-tab-container {
  background: transparent;
  border: 0;
  padding: 0;
  height: 50%;
  display: flex;
  flex-direction: column;
}

/* Container do card com rolagem */
.profile-tab .profile-card-container {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

/* Card principal COM altura fixa e rolagem interna */
.profile-tab .profile-card {
  background: #e0deda;
  color: #212529;
  padding: 16px 18px;
  max-width: 560px;
  width: 100%;
  max-height: 70vh;    /* card nunca maior do que 70% da viewport */
  overflow-y: auto;    /* rolagem interna se necessário */
  border: 2px solid #fff;
  box-shadow: 1px 1px #000;
  margin: 0 auto 12px; /* margem inferior para separar do rodapé / botão */
}

/* Restante do CSS mantido... */
.profile-tab .avatar-image {
  border: 1px solid #808080;
  box-shadow: 0 0 0 2px #f0f0f0 inset;
  min-width: 180px; 
  min-height: 180px;  
}

.profile-tab .fields-container { 
  margin-top: 8px; 
}

.profile-tab .edit-input {
  background: #C0C0C0;
  color: #000;
  border-radius: 0;
  border: none;
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 10pt;
}

.profile-tab .edit-textview {
  background: #C0C0C0;
  color: #000;
  border: none;
}

.profile-tab .actions-container {
  background: transparent;
  border: 0;
  padding-top: 12px;
  text-align: center;
}

.profile-tab .save-button {
  display: inline-block;
  margin: 0 auto;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  border-right-color: #424242;
  border-bottom-color: #424242;
  background: silver;
  color: black;
  padding: 6px 16px;
  border-radius: 1px;
  font-weight: 700;
}

.profile-tab .save-button:hover,
.profile-tab .save-button:focus,
.profile-tab .save-button:active {
  border: 2px inset #818181;
  background: silver;
  color: #424242;
  box-shadow: -1px -1px #000;
}

.profile-tab .save-button:disabled {
  cursor: default;
  background-color: silver;
  border-style: outset;
  border-right-color:#424242;
  border-bottom-color:#424242;
  color: grey;
  text-shadow: 1px 1px #fff;
}

.profile-tab .status-message{
  font-weight: 700;
  background: #ffffff;
  border: 1px solid #808080;
  box-shadow: inset 1px 1px 0 #ffffff, inset -1px -1px 0 #404040;
  padding: 6px 10px;
  margin-top: 10px;
}

.profile-tab .status-success{ color:#000080; border-color:#000080; }
.profile-tab .status-error  { color:#800000; border-color:#800000; }

.profile-tab #avatar-box{
  background: var(--winface, #e0deda);
  padding:6px;
  border:2px solid #fff;
  border-right-color:#424242;
  border-bottom-color:#424242;
  border-left-color:#fff;
  border-top-color:#fff;
  box-shadow:1px 1px #000;
}

.profile-tab .profile-display-name{
  font-family:"MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-weight:700;
  font-size:32pt;
  color:#000;
  margin:6px 0 10px;
  text-align:center;
}

.profile-tab .edit-row{
  background: transparent;
  padding: 0;
  border: 0;
  box-shadow: none;
}

.profile-tab .pencil-btn{
  background: var(--winface, silver);
  color:#000;
  border:1px solid var(--shadow, #808080);
  border-radius:0;
  min-width:26px;
  box-shadow:
    inset 1px 1px 0 var(--highlight, #fff),
    inset -1px -1px 0 var(--darkshadow, #404040);
}

.profile-tab .pencil-btn:active{
  box-shadow:
    inset 1px 1px 0 var(--darkshadow, #404040),
    inset -1px -1px 0 var(--highlight, #fff);
}

.profile-tab .edit-input{
  background:#fff; color:#000; border:none; border-radius:0; font-size:10pt;
}

.profile-tab .edit-input:focus{ outline:1px dotted #000; outline-offset:-4px; }
.profile-tab .edit-textview{ background:#fff; color:#000; border:none; }

.profile-tab .save-button{
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  border-right-color:#424242;
  border-bottom-color:#424242;
  background: silver;
  color: black;
  padding: 6px 16px;
  border-radius: 1px;
  font-weight: 700;
  display: inline-block;
  margin: 0 auto;
}

.profile-tab .save-button:hover,
.profile-tab .save-button:focus,
.profile-tab .save-button:active{
  border: 2px inset #818181;
  background: silver;
  color:#424242;
  box-shadow: -1px -1px #000;
}

.profile-tab .actions-container{
  background: transparent;
  border: 0;
  text-align: center;  
  padding-top: 12px;
}

.profile-tab .field-label{
  font-weight:700;
  color:#000;
  min-width:90px;       
}

.profile-tab .avatar-box,
.profile-tab #avatar-box {
  padding: 6px;             
  border: 4px solid #fff;    
  border-right-color:#424242;
  border-bottom-color:#424242;
  box-shadow: 2px 2px #000; 
  display: inline-block;
}

.profile-tab .edit-scrolled,
.profile-tab #edit-scrolled {
  background:#C0C0C0;
  border:1px solid var(--shadow);
  border-radius:0;
  box-shadow:
    inset 3px 3px 0 #cfcfcf,
    inset -2px -2px 0 #cfcfcf,
    inset 3px 3px 0 #818181,
    inset -2px -2px 0 #cfcfcf;
}

.profile-tab .profile-display-name{
  font-weight: 800;
  font-size: 32px;      
  color:#000;
  margin:8px 0 12px;
  text-align:center;
}

.entry, .entry:focus,
.entry:active,
.entry:disabled {
  border: 0;
  border-radius: 0;
  box-shadow: none;
  background-image: none;
  outline: none;
}

.profile-tab entry,
.profile-tab entry:focus,
.profile-tab entry:active,
.profile-tab entry:disabled,
.profile-tab entry:backdrop {
  border: 0;
  border-radius: 0;
  box-shadow: none;
  background-image: none;
  outline: none;
  background: transparent; 
}

.profile-tab textview,
.profile-tab scrolledwindow,
.profile-tab scrolledwindow > viewport,
.profile-tab scrolledwindow > viewport > textview {
  border: 0;
  box-shadow: none;
  background-image: none;
  outline: none;
  background: transparent;
}

.profile-tab .edit-row{
  background:#fff;
  border:1px solid #d5d5d5;
  box-shadow:
    inset 3px 3px 0 #cfcfcf,
    inset -2px -2px 0 #cfcfcf,
    inset 3px 3px 0 #818181,
    inset -2px -2px 0 #cfcfcf;
}

.profile-tab .edit-input,
.profile-tab .edit-textview {
  border: 0;
  box-shadow: none;
  background: transparent;
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
}

.profile-tab .edit-scrolled {
  border: 0;
  box-shadow: none;
  background: transparent;
}

.profile-tab entry,
.profile-tab entry:focus,
.profile-tab entry:active,
.profile-tab entry:disabled,
.profile-tab entry:backdrop {
  border: 0;
  border-radius: 0;
  box-shadow: none;
  background-image: none;
  outline: none;
  background: transparent;
}

.profile-tab textview,
.profile-tab scrolledwindow,
.profile-tab scrolledwindow > viewport,
.profile-tab scrolledwindow > viewport > textview {
  border: 0;
  box-shadow: none;
  background-image: none;
  outline: none;
  background: transparent;
}

.profile-tab .edit-row{
  background:#fff;
  border:1px solid #d5d5d5;
  box-shadow:
    inset 3px 3px 0 #cfcfcf,
    inset -2px -2px 0 #cfcfcf,
    inset 3px 3px 0 #818181,
    inset -2px -2px 0 #cfcfcf;
  padding: 4px 6px;
}

.profile-tab .edit-input,
.profile-tab .edit-textview {
  border: 0;
  box-shadow: none;
  background: transparent;
  padding: 4px 6px;
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 10pt;
}

.profile-tab .avatar-box{
  padding:0 !important; 
  background:#e0deda;
  border:4px solid #fff;
  border-right-color:#424242;
  border-bottom-color:#424242;
  box-shadow:2px 2px #000;
  display:inline-block;
}

.profile-tab .avatar-image{
  border:4px solid #fff;
  border-right-color:#424242;
  border-bottom-color:#424242;
  box-shadow:2px 2px #000;
  box-shadow: 0 0 0 3px #f0f0f0 inset;
  min-width: 130px;
  min-height: 130px;
}

.profile-tab .profile-tab-container,
.profile-tab box,
.profile-tab grid,
.profile-tab frame,
.profile-tab scrolledwindow,
.profile-tab scrolledwindow > viewport,
.profile-tab scrolledwindow > viewport > textview {
  background: transparent;
}

.welcome-banner {
  color: black;
}

/* ============ ESTILOS ESPECÍFICOS PARA DATASETS ============ */

.profile-tab .datasets-section {
  margin-top: 20px;
  background: transparent;
}

.profile-tab .section-title {
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 12pt;
  font-weight: bold;
  color: #000;
  margin-bottom: 8px;
  text-align: left;
}

/* Container rolável dos datasets - ALTURA FIXA */
.profile-tab .datasets-scrolled {
  background: #e0deda;
  border: 2px solid #fff;
  border-right-color: #424242;
  border-bottom-color: #424242;
  border-left-color: #fff;
  border-top-color: #fff;
  box-shadow: 1px 1px #000;
  max-height: 250px; /* Altura fixa máxima */
  overflow-y: auto; /* Rolagem interna */
}

.profile-tab .datasets-list {
  background: #e0deda;
  padding: 4px;
}

.profile-tab .dataset-row {
  background: #e0deda;
  padding: 8px 6px;
  margin: 2px 0;
  border: 1px solid transparent;
  transition: all 0.1s ease;
}

.profile-tab .dataset-row:hover {
  background: #d0ceca;
  border: 1px solid #808080;
}

.profile-tab .dataset-name {
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 10pt;
  font-weight: bold;
  color: #000080;
  margin: 0;
}

.profile-tab .dataset-meta {
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 8pt;
  color: #555;
  font-style: italic;
  margin: 0;
}

.profile-tab .datasets-list label {
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 9pt;
  color: #000;
  margin: 2px 0 0 0;
  line-height: 1.2;
}

.profile-tab .row-sep {
  background-color: #808080;
  min-height: 1px;
  margin: 6px 2px;
  border: none;
}

.profile-tab .datasets-section:empty::before {
  content: "Nenhum dataset encontrado";
  font-family: "MS Sans Serif", Tahoma, "DejaVu Sans", sans-serif;
  font-size: 10pt;
  color: #555;
  font-style: italic;
  text-align: center;
  display: block;
  padding: 20px;
}

/* Scrollbar estilo Win95 */
.profile-tab .datasets-scrolled scrollbar {
  background: #C0C0C0;
}

.profile-tab .datasets-scrolled scrollbar slider {
  background: #C0C0C0;
  border: 1px solid #808080;
  border-radius: 0;
}

.profile-tab .datasets-scrolled scrollbar trough {
  background: #E0E0E0;
  border: 1px solid #808080;
}

.profile-tab .datasets-scrolled scrollbar button {
  background: #C0C0C0;
  border: 1px solid #808080;
  color: #000;
}

/* Ajuste para garantir que o card principal tenha rolagem interna */
.profile-tab .profile-card::-webkit-scrollbar {
  width: 16px;
}

.profile-tab .profile-card::-webkit-scrollbar-track {
  background: #C0C0C0;
  border: 1px solid #808080;
}

.profile-tab .profile-card::-webkit-scrollbar-thumb {
  background: #C0C0C0;
  border: 1px solid #808080;
}

.profile-tab .datasets-section {
  min-height: 60px;
}

/* Garantir que a seção de datasets não expanda demais */
.profile-tab .datasets-section {
  flex-shrink: 0;
}

.profile-tab .delete-button {
  border-width: 2px;
  border-style: outset;
  background: #d80000;       
  color: black;
  border: 2px outset buttonface;
  padding: 4px 10px;
  font-weight: 700;
  min-width: 72px;
  display: inline-block;
  border-right-color:#424242;
  border-bottom-color:#424242;
}

.profile-tab .delete-button:active,
.profile-tab .delete-button:hover {
  border: 2px inset #818181;
  box-shadow: -1px -1px #000;
  color: black;
}

.profile-tab .edit-button {
  border-width: 2px;
  border-style: outset;
  background: #FFFF00;       
  color: black;
  border: 2px outset buttonface;
  padding: 4px 10px;
  font-weight: 700;
  min-width: 72px;
  display: inline-block;
  border-right-color:#424242;
  border-bottom-color:#424242;
}

.profile-tab .edit-button:active,
.profile-tab .edit-button:hover {
  border: 2px inset #818181;
  box-shadow: -1px -1px #000;
  color: black;
}

.metal-panel{
  background:#C0C0C0;
  color:#000;
  border:1px solid #808080;
  border-radius:0;
  padding:10px 12px;
  box-shadow:
    inset 1px 1px 0 #FFF,
    inset -1px -1px 0 #404040,
    0 1px 0 #FFF,
    0 -1px 0 #404040;
}

.metal-panel frame > border{
  border:1px solid #808080;
  border-radius:0;
  box-shadow:
    inset 1px 1px 0 #FFF,
    inset -1px -1px 0 #404040;
}

.metal-panel frame{
  background:#C0C0C0;
  background-clip:padding-box;
  border-radius:0;
}

/* Card prateado com relevo */
#env-window .metal-panel,
#env-window #env-panel{
  color:#212529;
  border: 2px solid #fff;
  border-right-color:#424242;
  border-bottom-color:#424242;
  border-left-color:#fff;
  border-top-color:#fff;
  box-shadow: 1px 1px #000;
  padding: 12px 14px;
}

/* Botões 3D */
#env-window button{
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  border-right-color:#424242;
  border-bottom-color:#424242;
  background: silver;
  color: black;
  padding: 4px 6px;
  border-radius: 1px;
  cursor: pointer;
}
#env-window button:hover,
#env-window button:focus,
#env-window button:active{
  border: 2px inset #818181;
  background: silver;
  color:#424242;
  box-shadow: -1px -1px #000;
}
#env-window button:disabled{
  cursor: default;
  background-color: silver;
  border-style: outset;
  border-right-color:#424242;
  border-bottom-color:#424242;
  color: grey;
  text-shadow: 1px 1px #fff;
}

/* Notebook */
#env-window notebook{ border: 2px solid #fff; border-bottom-color:#fff; }
#env-window notebook > header{ background:#c0c0c0; border-bottom:2px solid #fff; }
#env-window notebook tab{
  background:#c0c0c0; color:black;
  border-top-left-radius:4px; border-top-right-radius:4px;
  border-right:1px solid #5A5A5A;
  margin:0; padding:.2rem 1.2rem;
}
#env-window notebook > stack{
  border: 2px solid;
  border-bottom-color:#424242; border-right-color:#424242;
  padding: 1rem 1.4rem;
}

/* Entradas “afundadas” */
#env-window entry{
  background:#ffffff;
  color:#000;
  border-radius:0;
  padding:8px 12px;
  box-shadow:
    inset 3px 3px 0 #cfcfcf,
    inset -2px -2px 0 #cfcfcf,
    inset 3px 3px 0 #818181,
    inset -2px -2px 0 #cfcfcf;
  min-height:22px;
}
#env-window entry::placeholder{ color:#6b6b6b; }
#env-window entry:focus{
  outline:1px dotted #000;
  outline-offset:-4px;
}